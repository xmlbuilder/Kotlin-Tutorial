# 🧬 기본형과 참조형
## 1️⃣ 기본형과 참조형이란?
Kotlin은 자바와 달리 모든 타입이 객체처럼 동작합니다.
하지만 내부적으로는 Int, Double 같은 기본형(primitive) 타입을 최적화하여 사용합니다.
## 📥 Kotlin 정리
| 항목         | 키워드/문법     | 설명                                              |
|--------------|------------------|---------------------------------------------------|
| 클래스 정의   | `data class`     | 자동으로 `toString()`, `equals()`, `copy()` 생성 |
| 컬렉션        | `List`           | 불변 리스트 (`mutableListOf()`는 가변 리스트)     |
| 사용자 입력   | `readln()`        | 콘솔 입력을 문자열로 받음 (`readlnOrNull()`도 있음) |
| 기본형 타입   | `Int`, `Double`  | 객체처럼 동작하지만 내부적으로는 primitive 최적화 |
| 변수 선언     | `val`, `var`     | `val`은 불변, `var`는 가변                        |
| 널 처리       | `?`, `!!`, `?:`  | null-safe 연산자: nullable, 강제, 기본값 처리      |


## 2️⃣ 기본형 vs 참조형 - 구조
```kotlin
val a: Int = 10 // 기본형
val s1 = Student("학생1", 15, 90) // 참조형
```

- 기본형은 값 자체를 저장
- 참조형은 객체의 참조값을 저장

## 3️⃣ 기본형 vs 참조형 - 계산
```kotlin
val a = 10
val b = 20
val sum = a + b // ✅ 기본형 연산 가능

val s1 = Student("학생1", 15, 100)
val s2 = Student("학생2", 16, 90)
// val result = s1 + s2 // ❌ 참조형끼리 직접 연산 불가

val gradeSum = s1.grade + s2.grade // ✅ 내부 값 연산 가능
```


## 4️⃣ 기본형 vs 참조형 - 대입
```kotlin
var a = 10
var b = a // 값 복사 → 독립적

val s1 = Student("학생1", 15, 90)
val s2 = s1 // 참조값 복사 → 같은 객체 참조
```



## 5️⃣ 메서드 호출 방식
```kotlin
fun changePrimitive(x: Int) {
    // x는 복사된 값 → 원본 영향 없음
}

fun changeReference(data: Data) {
    data.value = 20 // 참조값 복사 → 원본 객체 변경됨
}
```


## 6️⃣ 객체 전달과 반환
```kotlin
fun initStudent(student: Student, name: String, age: Int, grade: Int) {
    student.name = name
    student.age = age
    student.grade = grade
}

fun createStudent(name: String, age: Int, grade: Int): Student {
    return Student(name, age, grade)
}
```


## 7️⃣ 변수 초기화와 null 처리
```kotlin
class InitData {
    var value1: Int = 0 // 자동 초기화
    var value2: Int = 10 // 명시적 초기화
}

var data: Data? = null
data = Data(10)
data = null // 참조 해제

val bigData = BigData()
bigData.data = Data(0)
println(bigData.data?.value) // null-safe 접근
```

---

# 🛒 상품 주문 시스템
## 1️⃣ 클래스 정의
```kotlin
data class ProductOrder(
    val productName: String,
    val price: Int,
    val quantity: Int
)
```


## 2️⃣ 메서드 분리
```kotlin
fun createOrder(name: String, price: Int, quantity: Int): ProductOrder {
    return ProductOrder(name, price, quantity)
}


fun printOrders(orders: List<ProductOrder>) {
    for (order in orders) {
        println("상품명: ${order.productName}, 가격: ${order.price}, 수량: ${order.quantity}")
    }
}

fun getTotalAmount(orders: List<ProductOrder>): Int {
    return orders.sumOf { it.price * it.quantity }
}
```


## 3️⃣ 사용자 입력 주문 시스템
```kotlin
fun main() {
    print("입력할 주문의 개수를 입력하세요: ")
    val n = readln().toInt()

    val orders = mutableListOf<ProductOrder>()
    for (i in 1..n) {
        println("$i 번째 주문 정보를 입력하세요.")
        print("상품명: ")
        val name = readln()
        print("가격: ")
        val price = readln().toInt()
        print("수량: ")
        val quantity = readln().toInt()
        orders += createOrder(name, price, quantity)
    }

    printOrders(orders)
    println("총 결제 금액: ${getTotalAmount(orders)}")
}
```

## 📥 Kotlin 정리

| 항목         | 키워드/문법     | 설명                                              |
|--------------|------------------|---------------------------------------------------|
| 클래스 정의   | `data class`     | 자동으로 `toString()`, `equals()`, `copy()` 생성 |
| 컬렉션        | `List`           | 불변 리스트 (`mutableListOf()`는 가변 리스트)     |
| 사용자 입력   | `readln()`        | 콘솔 입력을 문자열로 받음 (`readlnOrNull()`도 있음) |
| 변수 선언     | `val`, `var`     | `val`은 불변, `var`는 가변                        |
| 널 처리       | `?`, `!!`, `?:`  | null-safe 연산자: nullable, 강제, 기본값 처리      |


## 💡 추가 설명
- val name: String? = null → nullable 변수 선언
- name!! → null 아님을 보장 (null이면 예외 발생)
- name ?: "기본값" → null이면 "기본값" 반환
- name?.length → null-safe 접근


----


Kotlin에서 data class ProductOrder(...)를 선언하면,  
그 클래스는 **자동으로 주 생성자(primary constructor)** 를 가지게 되며,  
ProductOrder(name, price, quantity)처럼 생성자처럼 바로 사용할 수 있음.

## ✅ 예시
```kotlin
data class ProductOrder(
    val productName: String,
    val price: Int,
    val quantity: Int
)

val order = ProductOrder("노트북", 1000000, 1)
println(order.productName) // "노트북"
```

- ProductOrder(...)는 생성자 호출과 동일하게 동작합니다.
- data class는 생성자뿐 아니라 toString(), equals(), hashCode(), copy()도 자동 생성해줘요.

## 📥 Kotlin 정리 – data class 기능
| 기능         | 사용 예시       | 설명                                               |
|--------------|------------------|----------------------------------------------------|
| toString()   | `println(obj)`   | 객체 내용을 문자열로 출력                          |
| equals()     | `obj1 == obj2`   | 값 기반 비교 가능 (`==`는 내부 값 비교)            |
| copy()       | `obj.copy(...)`  | 일부 속성만 바꿔서 새로운 객체 생성 가능           |

```kotlin
val order2 = order.copy(quantity = 3)
println(order2) // ProductOrder(productName=노트북, price=1000000, quantity=3)

```

## 💡 예시 코드
```kotlin
data class ProductOrder(val productName: String, val price: Int, val quantity: Int)

val order1 = ProductOrder("노트북", 1000000, 1)
val order2 = order1.copy(quantity = 3)

println(order1)           // toString() → ProductOrder(productName=노트북, price=1000000, quantity=1)
println(order1 == order2) // equals() → false
println(order2)           // copy() → ProductOrder(productName=노트북, price=1000000, quantity=3)

```


