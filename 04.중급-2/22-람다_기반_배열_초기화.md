# 람다 기반 배열 초기화 (Lambda-based Array Initialization)

이 문법은 Kotlin의 `Array(size) { initializer }` 형태로, 배열을 만들면서 동시에 값을 채우는 방식입니다.  
초기화 블록 `{ rhs.items[it] }` 는 `람다(lambda) 함수` 이며, `it`은 `현재 인덱스` 를 나타냅니다.  

- Kotlin 코드 분석:
```koltin
if (rhs.items.isNotEmpty()) {
    items = Array(rhs.items.size) { rhs.items[it] }
}
```
- 이 코드를 한 줄씩, 단계적으로 설명.

## 🔍 전체 목적
- rhs.items라는 배열이 비어 있지 않다면,
- 그 배열의 크기만큼 새로운 배열을 만들고,
- 기존 배열의 값을 하나씩 복사해서 items에 저장하는 코드입니다.

## 🧩 단계별 설명
### ① if (rhs.items.isNotEmpty())
- rhs.items는 복사 대상 객체의 배열입니다.
- isNotEmpty()는 배열이 비어 있지 않은지 확인하는 함수입니다.
- 즉, 복사할 데이터가 있는 경우에만 아래 코드를 실행하겠다는 뜻입니다.
### ② items = Array(rhs.items.size) { rhs.items[it] }
이 줄은 Kotlin의 고급 문법을 사용한 배열 생성 방식입니다.
-🔹 Array(rhs.items.size)
  - rhs.items.size는 복사할 배열의 크기입니다.
  - Array(n)은 크기가 n인 배열을 생성합니다.
- 🔹 { rhs.items[it] }
  - 중괄호 {} 안은 초기화 람다(lambda) 입니다.
  - it은 배열의 인덱스를 의미합니다 (0부터 시작).
  - rhs.items[it]는 복사 대상 배열의 해당 인덱스 값을 가져옵니다.
  - 즉, 새 배열의 각 요소를 rhs.items의 값으로 채우는 거예요.

## 🧠 예시로 풀어보기
- 예를 들어 rhs.items = [10, 20, 30]이라면:
```kotlin
items = Array(3) { rhs.items[it] }
```

- 이렇게 동작합니다:
  - it = 0 → rhs.items[0] = 10
  - it = 1 → rhs.items[1] = 20
  - it = 2 → rhs.items[2] = 30
- 결과적으로 items = [10, 20, 30]가 됩니다.

## ✨ 요약

| 코드 요소               | 의미 또는 설명                                 | 예시 동작 |
|------------------------|--------------------------------------------------|------------|
| `isNotEmpty()`         | 배열이 비어 있지 않은지 확인                     | `[1,2,3].isNotEmpty()` → true |
| `Array(size) { ... }`  | 지정한 크기의 배열을 만들고 람다로 초기화        | `Array(3) { it * 2 }` → `[0,2,4]` |
| `rhs.items[it]`        | 기존 배열의 값을 인덱스 `it`로 하나씩 가져옴     | `rhs.items[0]`, `rhs.items[1]` 등 |


---



## 🧪 실전 예제 1: 리스트 복사
```kotlin
val original = listOf("A", "B", "C", "D")
val copied = Array(original.size) { original[it] }

println(copied.joinToString()) // 출력: A, B, C, D
```

### 🧠 설명:
- `original[it]` 을 통해 리스트의 각 `요소를 복사`
- `Array()` 를 통해 `새로운 배열` 을 생성

## 🧪 실전 예제 2: 숫자 계산 배열
```kotlin
val squares = Array(5) { it * it }

println(squares.joinToString()) // 출력: 0, 1, 4, 9, 16
```

### 🧠 설명:
- it은 인덱스 (0부터 시작)
- 각 인덱스의 제곱을 배열에 저장

## 🧪 실전 예제 3: 객체 배열 생성
```kotlin
data class User(val id: Int, val name: String)

val users = Array(3) { User(it, "User$it") }

users.forEach { println(it) }

// 출력:
// User(id=0, name=User0)
// User(id=1, name=User1)
// User(id=2, name=User2)
```

### 🧠 설명:
- User(it, "User$it")를 통해 각 인덱스에 맞는 객체 생성
- 배열을 객체로 초기화할 때 매우 유용

## 🧪 실전 예제 4: 기존 배열 복사 (rhs.items 스타일)
```kotlin
val source = arrayOf("apple", "banana", "cherry")
val target = Array(source.size) { source[it] }

println(target.joinToString()) // 출력: apple, banana, cherry
```

### 🧠 설명:
- 기존 배열을 새 배열로 복사
- rhs.items가 source라면, items = Array(rhs.items.size) { rhs.items[it] }와 동일한 구조

## ✨ 요약

| 문법 요소                   | 설명                                       | 예시 동작                          |
|----------------------------|--------------------------------------------|------------------------------------|
| `Array(size) { index -> ... }` | 배열을 생성하고 각 요소를 람다로 초기화       | `Array(3) { it * 2 }` → `[0, 2, 4]` |
| `it`                        | 현재 인덱스를 나타내는 기본 변수             | `it = 0`, `it = 1`, `it = 2` 등     |
| `source[it]` 또는 `rhs.items[it]` | 기존 배열의 값을 인덱스로 접근하여 복사       | `Array(n) { source[it] }`           |

---



